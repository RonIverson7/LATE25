/* Layout.css - Museum Quality Layout */

/* Root grid: header on top, footer bottom, center row with 3 columns */
.app {
  min-height: 100vh;
  display: grid;
  grid-template-rows: auto 1fr auto; /* header, content, footer */
  grid-template-columns: var(--museo-sidebar-width) 1fr 340px; /* left, main, right */
  grid-template-areas:
    "header header header"
    "sideL  main   sideR"
    "footer footer footer";
  background: linear-gradient(135deg, var(--museo-stone-50) 0%, var(--museo-forest-50) 100%);
  overflow: visible; /* important: do not clip sticky children */
}

/* Sticky header */
.app__header {
  grid-area: header;
  position: sticky;
  top: 0;
  z-index: 50;
  background: white;
  border-bottom: 1px solid var(--museo-stone-200);
  box-shadow: var(--museo-shadow-sm);
}

/* Left sidebar: sticky under header, owns its own scroll */
.app__side-left {
  grid-area: sideL;
  position: sticky;
  top: var(--museo-nav-height);
  height: calc(100vh - var(--museo-nav-height));
  overflow: auto;
  background: var(--museo-bg-secondary) !important;
  border-right: 1px solid var(--museo-border) !important;
  padding: var(--museo-space-6);
  color: var(--museo-text-primary) !important;

  contain: layout paint size;
  overscroll-behavior: contain;
}

/* Right rail: sticky under header, owns its own scroll */
.app__side-right {
  grid-area: sideR;
  position: sticky;
  top: var(--museo-nav-height);
  height: calc(100vh - var(--museo-nav-height));
  overflow: auto;
  background: var(--museo-bg-secondary) !important;
  border-left: 1px solid var(--museo-border) !important;
  padding: var(--museo-space-6);
  color: var(--museo-text-primary) !important;

  contain: layout paint size;
  overscroll-behavior: contain;
}

/* Center main: scrolls independently */
.app__main {
  grid-area: main;
  min-width: 0;
  overflow: auto;
  padding: var(--museo-space-6);
  background: var(--museo-white) !important;
  color: var(--museo-text-primary) !important;

  overscroll-behavior: contain;
}

/* Gallery layout: hide right panel, expand main content */
.app--gallery {
  grid-template-columns: var(--museo-sidebar-width) 1fr !important; /* left, main (no right) */
  grid-template-areas:
    "header header"
    "sideL  main"
    "footer footer" !important;
}

/* Marketplace layout: hide right panel, expand main content */
.app--marketplace {
  grid-template-columns: var(--museo-sidebar-width) 1fr !important; /* left, main (no right) */
  grid-template-areas:
    "header header"
    "sideL  main"
    "footer footer" !important;
}

.app--marketplace .app__main {
  padding: 0 !important;
}

/* Checkout layout: hide right panel, expand main content */
.app--checkout {
  grid-template-columns: var(--museo-sidebar-width) 1fr !important; /* left, main (no right) */
  grid-template-areas:
    "header header"
    "sideL  main"
    "footer footer" !important;
}

.app--checkout .app__main {
  padding: 0 !important;
}

/* Seller Dashboard layout: hide right panel, expand main content */
.app--seller-dashboard {
  grid-template-columns: var(--museo-sidebar-width) 1fr !important; /* left, main (no right) */
  grid-template-areas:
    "header header"
    "sideL  main"
    "footer footer" !important;
}

.app--seller-dashboard .app__main {
  padding: 0 !important;
}

/* Artist profile layout: hide right panel, expand main content */
.app--artist-profile {
  grid-template-columns: var(--museo-sidebar-width) 1fr !important; /* left, main (no right) */
  grid-template-areas:
    "header header"
    "sideL  main"
    "footer footer" !important;
}

/* MyProfile layout: hide right panel, expand main content */
.app--my-profile {
  grid-template-columns: var(--museo-sidebar-width) 1fr !important; /* left, main (no right) */
  grid-template-areas:
    "header header"
    "sideL  main"
    "footer footer" !important;
}

/* Visit Museo layout: full width, no sidebars */
.app--visit-museo {
  grid-template-columns: 1fr !important; /* full width main only */
  grid-template-areas:
    "header"
    "main"
    "footer" !important;
}

/* Ensure right sidebar is completely hidden on gallery, marketplace, checkout, seller dashboard, artist profile, myProfile, and settings pages */
.app--gallery .app__side-right,
.app--marketplace .app__side-right,
.app--checkout .app__side-right,
.app--seller-dashboard .app__side-right,
.app--artist-profile .app__side-right,
.app--my-profile .app__side-right,
.app--visit-museo .app__side-right,
.app--requests .app__side-right,
.app--settings .app__side-right {
  display: none !important;
}
/* Ensure left sidebar is hidden on visit museo page */
.app--visit-museo .app__side-left {
  display: none !important;
}

/* Full width main content for Visit Museo */
.app--visit-museo .app__main {
  grid-column: 1 / -1;
  max-width: 100%;
}

/* Requests page specific layout - same as Gallery (left sidebar + main, no right sidebar) */
.app--requests {
  grid-template-columns: var(--museo-sidebar-width) 1fr !important;
  grid-template-areas:
    "header header"
    "sideL  main"
    "footer footer" !important;
}

.app--requests .app__main {
  padding: 0;
}

.app--requests .app__side-right {
  display: none !important;
}

/* Settings page specific layout - same as Gallery (left sidebar + main, no right sidebar) */
.app--settings {
  grid-template-columns: var(--museo-sidebar-width) 1fr !important;
  grid-template-areas:
    "header header"
    "sideL  main"
    "footer footer" !important;
}

.app--settings .app__main {
  padding: 0 !important;
}

/* Media queries */
@media (max-width: 1024px) {
  /* Tablet layout adjustments */
  .app--gallery,
  .app--marketplace,
  .app--checkout,
  .app--seller-dashboard,
  .app--artist-profile,
  .app--my-profile,
  .app--settings {
    grid-template-columns: var(--museo-sidebar-width) 1fr;
    grid-template-areas:
      "header header"
      "sideL  main"
      "footer footer";
  }
}

@media (max-width: 900px) {
  .app,
  .app--gallery,
  .app--marketplace,
  .app--checkout,
  .app--seller-dashboard,
  .app--artist-profile,
  .app--my-profile,
  .app--settings {
    grid-template-columns: 1fr;
    grid-template-areas:
      "header"
      "main"
      "footer";
  }
  .app__side-left { display: none; } /* consider a drawer on mobile */
}
